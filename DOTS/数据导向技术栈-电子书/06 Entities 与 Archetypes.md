# Entities（ECS）

**Entities 包**提供了一套 **ECS（实体-组件-系统）** 的实现：用**实体与组件**表达数据，用**系统**承载代码。

简而言之，一个**实体（entity）** 由若干**组件（component）** 组成；每个组件通常是一个 **C# `struct`**。与 `GameObject` 类似，实体在其生命周期内可以**添加或移除组件**。

与 `GameObject` 不同，组件**通常没有自己的方法**。在 ECS 中，代码写在**系统（system）**里：系统有一个**每帧被调用**的更新方法，用来**读取/修改**某些实体的组件。例如，一个有怪物的游戏里，可以有 `MonsterMoveSystem`，其更新函数会修改**所有怪物实体**的 `Transform` 组件。

# Archetypes（原型）

在 Unity 的 ECS 里，**拥有同一组组件类型**的所有实体，会被存放在同一个**原型（archetype）**中。假设你有三种组件 **A、B、C**，那么**每一种唯一的组件组合**对应一个原型，例如：

- 具有 **A+B+C** 的所有实体在**同一个**原型里；
    
- 具有 **A+B** 的实体在**第二个**原型里；
    
- 具有 **A+C** 的实体在**第三个**原型里。
    
      
当你**给实体添加或移除组件**时，实体会被**迁移**到**另一个**原型中。