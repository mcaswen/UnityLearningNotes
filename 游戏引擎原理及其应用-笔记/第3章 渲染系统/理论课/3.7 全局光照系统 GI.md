#### Global Illumination （GI）
- 模拟真实世界中的多次反射效果
- 目前只用于静态物体
- 需要进行预计算
	- **烘焙GI**：将场景中的光的多次反射效果储存下来
	- **实时GI**：将所有的可能的光照反射信息保存，光源可变

##### 限制条件
- 只能作用于静态物体
	- 动态物体可以使用光照探针来近似全局光照效果
- 实时GI仍然会增加计算量
- 受限平台最好使用烘焙GI

#### Unity中的GI系统使用
- 将所有需要被全局光照影响的物体设置为`static`
- 将光源的渲染模式设置为 `baked` 或 `mixed`
- **Environment**：环境设置
	- **环境光照 Environment Lighting**：为整个场景提供基础的环境光源
		- **来源 Source**：通常设置为`Color`（纯色） 或 `Gradient` (天空、地面、地平线的三色渐变)。更高级的是`Skybox`，其光照信息会被采样并用于全局照明。
		- **强度 Intensity**：控制环境光的亮度
		- **环境光遮蔽 Ambient Occlusion**：在全局光照计算中增强缝隙，角落，接触点的阴影，极大增加场景的深度和真实感
	- **环境反射 Environment Reflection**：决定了场景中具有光滑度的物体如何反射周围环境
	- **来源 Source** ：同样可设置为 `Skybox` 或 `Custom`
		- 选择 `Skybox` 时，Unity会根据当前的天空盒生成一个反射探针的立方体贴图，供物体反射
		- 选择 `Custom` 时则可以指定一个自己的`Cubemap`贴图
	- **分辨率 Resolution**：生成的反射贴图的大小，分辨率越高，反射越清晰，但内存占用也越大
	
- **Light Mapping Settings**：用于控制GI烘焙的质量的方式，烘焙之前需要配置
	- **烘焙器 Lightmapper**：Progressive CPU/GPU（渐进式）是现代首选，可以实时预览烘焙过程，非常方便。Enlighten是旧版系统。
	- **光照贴图分辨率 Lightmap Resolution**：最重要的设置之一。单位是texels per unit（单位面积的纹理像素）。数值越高，数值越高，烘焙出的光照细节越清晰（阴影，反射光），但生成的光照贴图文件也越大，烘焙时间越长，通常从10-20开始尝试。
	- **光照贴图间隔 Lightmap Padding**：光照贴图中的不同UV图表之间的间隔，防止光线泄漏，即一个物体的光照信息错误地出现在另一个物体上。
	- **压缩 Compression**：是否压缩光照贴图。开启可以节省内存
	- **环境光遮蔽 Ambient Occlusion**：控制烘焙时环境光遮蔽的强度和半径
	- **光照贴图尺寸 Lightmap Size**：最终生成的光照贴图纹理大小（如1024，2048，4096）复杂的场景需要更大的尺寸

##### 工作流程总结
1. **建模布置**：搭建好场景，放置物体和光源
2. **标记静态**：将所有静止的物体标记为`Static`
3. **配置光源**：根据需求为每个光源设置 `Mode`
4. **调整环境**：在`Lighting Settings` 中设置`Environment Lighting` 和 `Reflection`
5. **配置烘焙参数**：在`Lightmapping Settings`中设置合适的`Resolution`等参数
6. **烘焙**：点击Generating Lighting 按钮，等待烘焙完成
7. **检查与调试**：在`Scene`右上角将`Shading Mode`切换为`Baked Lightmap`等方式，检查烘焙效果是否正确，如有问题，调整设置后重新烘焙。