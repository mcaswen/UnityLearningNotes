- 光被物体遮挡后，会在物体表面投射下阴影，使得处于阴影区域的物体比阴影区域外的物体更暗
- 能够突出物体的规模和位置
#### 用途
- 阴影除了烘托气氛，还能增加真实感
- 还能反应物体在三维空间中的位置关系
- 没有阴影，则很难辨认小球的实际位置

- 阴影还能反应接受阴影的物体的**形状**
- 还可以表现出当前**视点看不到**的信息（通过阴影投射到玩家屏幕中）
- 还可以判断出**光源的数目**

#### 类型
- 阴影可分为软阴影和硬阴影
**软阴影**：光源具有一定大小时，在阴影边缘可以产生**模糊**效果
**硬阴影**：没有边缘模糊效果，但**计算开销更小**，性能友好

#### Unity中的阴影
- 灯光可以把**影子**从游戏对象**投射**到自身的其他部分，或者投射到附近的其他游戏对象上
- Unity提供了两种阴影的实现方式：**烘焙阴影**和**实时阴影**
	- **烘焙阴影**
		- 一种**离线**计算方法，采用**光线跟踪**算法来模拟现实世界中光的**物理特征**，如反射，折射和衰减
		- 光无法到达的地方就成为了阴影
		- 是光线跟踪算法的自然产物，可以产生和物理世界相符的阴影效果
		- 由于**计算量较大**，一般仅用于**易于计算**的场合，如静态物体（房屋等），其阴影不会随着实时游戏进程改变。
		- 在具有**光源组件**的游戏对象中可以配置阴影的设置
		- 同时，游戏场景中的`Renderer`（如 `Mesh Renderer`）也有**投射阴影**和**接收阴影**的两个属性
	- **实时阴影**
		- 一种更加精简的模拟
		- 忽略了光的很多物理特性，仅使用**几何方法**来计算阴影的区域
		- 使用**阴影映射 `Shadow Mapping`**
			- 一种高效的实时阴影生成技术
			- 使用阴影贴图 `Shadowmap`纹理
				- 类似深度贴图，保存**光线击中物体表面前的移动的距离信息**
				- 也就是场景元素**表面相对于光源的深度值**
				- **算法原理**：一个物体处于阴影中，是因为它和光源之间存在遮挡物，或者说**遮挡物距离光源更近一些**
- Unity默认只对**主光源**投射实时阴影，不会为**附加光源`Additional Light`** 来投射阴影
	- 需要在`URP`设置中勾选`Cast Shadows`选项
	- 还需在光源的`Inspector`中，将`Shadow Type`勾选为`Soft Shadows`
- **阴影质量**
	- 方向光 `Directional Light`照亮整个场景，因此它的**阴影贴图**会覆盖场景的**大部分区域**
		- 可能会导致**透视锯齿**问题
			- **透视锯齿**：靠近摄像机的像素比远处的像素**更大**，导致阴影失真，呈现**块状**
			- 为了解决问题，`URP`使用了**多层次阴影贴图**
				- **多层次阴影贴图**：会根据场景元素在摄像机视锥所占的比例将阴影区域划分为不同的层级
				- 阴影层级数量越**多**，越能有效减少**近距离锯齿**问题
				- 虽然会带来计算开销，但仍然比全部使用高清阴影贴图要小
				- 只能对方向光产生的阴影质量起作用


#### Unity中的阴影相关参数设置
- 在Light中的 `Shadow Type`选项可以选择投射的阴影类型 
	- **硬 `Hard`** vs **软 `Soft`**
	- **强度 `Strength`**：阴影的深浅程度
	- **清晰度`Resolution`**：阴影质量
	- **法线 `Bias`**
	- **裁剪面 `Near Plane`**
在接收体的`Mesh Renderer` 中可以设置接收的阴影类型
- **`Cast Shadows`**：投射阴影选项
	- `On` / `Off` ：选择启用或禁用网格的阴影投射
	-  `Two Sided` ：允许阴影在表面的任意一侧投射，忽略背面剔除
	- `Shadows Only`：可以允许阴影由不可见的`GameObject`来投射
- **`Receive Shadows`**：是否接收阴影