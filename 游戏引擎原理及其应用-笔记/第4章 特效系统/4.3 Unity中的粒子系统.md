
#### **Unity提供了两种粒子系统解决方案**
- **内置粒子系统**
- **Visual Effect Graph (`VEG`) 粒子系统**

#### 内置粒子系统
- 全平台兼容
- 在CPU上进行粒子行为模拟
- 与C#脚本 / 基础物理系统进行交互

#### `VEG` 粒子系统
- 下一代视觉特效方案
- 兼容于可编程渲染管线
- 利用GPU模拟粒子行为，可模拟的粒子数量远远超过内置粒子系统

#### VEG与内置粒子系统的区别

| 区别       | 内置粒子系统        | VEG               |
| -------- | ------------- | ----------------- |
| **运行平台** | CPU           | GPU               |
| **粒子数量** | 千级            | 百万级               |
| **渲染管线** | 所有管线          | 不支持`Built-in`     |
| **物理系统** | 可与Unity物理系统交互 | 特定元素交互            |
| **创作平台** | 模块化、修改预定义参数   | 可视化节点控制，修改特定节点和参数 |

#### Unity内置粒子系统实践

- **`Emission`模块**
	- 用于控制粒子系统的发射速率和模式
	- **`Rate Over Time`**：粒子发射的速率，以每秒发射的粒子数量为单位
	- **`Burst`**：粒子发射的突发模式，一次性发射多个粒子，用于模拟爆炸等效果

- **`Shape`模块**
	- 用于指定粒子系统的发射**范围**，控制粒子的发射**位置**
	- 能够影响粒子的**位置、方向、速度**等属性
	- 包含多个子模块，每个模块可以产生不同的形状，例如：
		- **`Box`**：在一个**长方体**区域内发射粒子
		- **`Sphere`**：在一个**球体**区域内发射粒子
		- **`Circle`**：在一个平面内，以**圆形**来发射粒子
		- **`Edge`**：在一个平面内，以**线段**形式来发射粒子
		- **`Mesh`**：在一个**网格**形状内发射粒子，可以自定义三维网格模型
		- **`Texture`**：可以是任意大小的二维贴图，黑色不发射，白色发射，灰色表示发射粒子的概率
		- `Shape`设置为空时，则使用默认的**圆锥形**发射例子，形成锥形发射效果
			- 可以调整**半径、高度、角度**等参数来控制发射的形状
			- **`Angle`**：锥形的角度
			- **`Radius`**：底部圆形的半径
			- **`Radius Thickness`**：发射粒子的**体积比例**
				- 值为0，则沿着锥形外表面发射粒子
				- 值为1，则从整个体积来发射粒子
			- **`Arc`**：有效发射角度

- **`Color Over Time`模块**
	- 控制粒子在其生命周期中的**颜色变化**
	- 通过一系列**颜色关键帧**来定义粒子的颜色随着时间推移的变化
	- 通过启用`Alpha`来控制粒子**透明**程度
	- 允许使用**贴图**来控制颜色
	- 还允许使用**颜色滤镜**来调整颜色的饱和度、亮度等属性

- **`Rotation Over Lifetime`模块**
	- 控制粒子随着时间变化的**旋转**
	- 可通过创建自定义旋转**曲线**来控制旋转变化的方式
	- **`Separate Axis`**：可以分别控制X、Y、Z轴的旋转
	- **`Rage`**：控制每个粒子旋转角度的范围

- **`Collision`模块**
	- 用于模拟粒子与其他物体之间的**碰撞**效果
	- 有**碰撞模式、碰撞表面、反弹、摩擦力**等参数
	- **`Collision Mode`**：**碰撞模式**
		- **`World`**：在整个粒子系统中检测碰撞
		- **`Lifetime`**：仅在粒子的生命周期内检测碰撞
	- **`Plane`**：**碰撞表面**
		- 平面/圆柱体/球体等多种表面
	- **`Dampen`**：粒子碰撞后的减速比率
	- **`Bounce`**：碰撞后的反弹力度
	- **`Stickness`**：碰撞后的附着力
	- **`Lifetime Loss`**：碰撞后的生命周期减少比率
	- **`Collides With`**：设置用于碰撞检测的物体
	- 可以结合其他模块使用，如结合`Rotation Over Lifetime`可实现碰撞后颜色变化的效果

- **`Sub Emitters` 模块**
	- 添加其他粒子系统作为子系统
	- 将在主系统的某些粒子发射时被激活