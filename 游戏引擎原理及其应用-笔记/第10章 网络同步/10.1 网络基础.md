#### 网络游戏

- 允许众多玩家通过互联网共同娱乐的电脑游戏

- 多为策略游戏(MMO, RTS)、动作游戏或角色扮演游戏（MMORPG）

- 如今大部分有长久生命力的游戏大部分都至少有一些联网成分

	- 足球、棋牌类游戏只有在联网对战的过程中才能体现出真正的游戏乐趣
	
- 而有的游戏甚至只提供网络对战这一种方式

- 和其他玩家进行游戏要比电脑对战更有挑战性

#### 联网基础

- 现在的游戏引擎都提供了基本都联网功能

	- 比如LAN方式的网络对战

- 大规模多人在线游戏的网络处理很复杂

	- 有些公司专门研发用于处理这类网络传输、数据存储的技术，称为MMO中间件

#### 游戏联网的网络架构

- 基本可以分为两种类型：客户端/服务端，点对点

#### 分组交换技术

- 互联网是一种分组交换并且容错的网络系统

1. **分组交换**

	- 信息被分解为多个小的包（几个字节或千字节的大小）分别发送出去

2. **容错**

	- 数据包在网络出现错误或服务器发生故障的情况下仍然可以发送
	
	- 如果一个服务器出现故障，数据包将使用其他网络路径到达目的地

#### 互联网的协议

- 可以分为三层
	
	1. 最底层的是IP协议
	
	2. UDP或TCP协议
	
	3. 最顶层的是一些应用层协议

##### IP协议

- 用于报文交换网络的一种面向数据的协议

- 定义了数据包在网际传送时的格式

##### 应用层协议

- 用于通用应用的数据报结构，其中包括：
	
	- `DNS`：域名服务
	
	- `FTP`：服务使用的是文件传输协议
	
	- `POP3`：邮局协议
	
	- `SMTP`：简单邮件传输协议
	
	- `Talnet`：远程登录等

##### UDP或TCP协议

- UDP或TCP将大的数据包传给IP

- IP将数据包分割为小的子数据包，为每个数据包加上一个信封

##### UDP与TCP区别

- UDP是一种不可靠的数据流传输协议

- 而TCP协议则具有较高可靠性

	- 通过为数据报加入额外信息，并提供重发机制，它能够保证数据不丢包、没有冗余包以及保证数据报的顺序

- 对于一些需要高可靠性的应用，可以选择TCP协议

- 对于性能优先考虑的应用如流媒体等，则可以选择UDP协议

| TCP       | UDP       |
| --------- | --------- |
| 保持连接      | 不保持连接     |
| 包大小可变     | 包大小固定     |
| 保证包的接收    | 不保证所有包都接收 |
| 先进先出的传输顺序 | 不保证传输顺序   |
| 速度慢       | 速度快       |

#### 联网功能实现

- 使用游戏引擎自带的联网模块

- 使用底层网络接口自己实现功能